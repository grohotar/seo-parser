#!/bin/bash

# SEO-–ø–∞—Ä—Å–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ø—Ä–æ—Å–∞ –Ω–∞ VPN –ø–æ –ª–æ–∫–∞—Ü–∏—è–º
# –ó–∞–ø—É—Å–∫: bash <(curl -sL https://raw.githubusercontent.com/grohotar/seo-parser/main/seo-parser.sh)

set -e

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m' # No Color

echo -e "${GREEN}=========================================${NC}"
echo -e "${GREEN}  SEO-–ø–∞—Ä—Å–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ VPN${NC}"
echo -e "${GREEN}=========================================${NC}"

# –°–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
TEMP_DIR=$(mktemp -d)
echo -e "${YELLOW}üìÅ –°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: $TEMP_DIR${NC}"

# –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
cleanup() {
    echo -e "${YELLOW}üßπ –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...${NC}"
    rm -rf "$TEMP_DIR"
    echo -e "${GREEN}‚úì –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã${NC}"
}

# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ—á–∏—Å—Ç–∫—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
trap cleanup EXIT

cd "$TEMP_DIR"

# –°–æ–∑–¥–∞—ë–º requirements.txt
cat > requirements.txt << 'EOF'
pytrends==4.9.2
requests==2.31.0
pandas>=2.0.0
EOF

# –î–µ–∫–æ–¥–∏—Ä—É–µ–º config.py
base64 -d > config.py << 'EOF64'
IiIiCtCa0L7QvdGE0LjQs9GD0YDQsNGG0LjRjyDQtNC70Y8g0L/QsNGA0YHQtdGA0LAgU0VPLdC30LDQv9GA0L7RgdC+0LIKIiIiCgojINCh0L/QuNGB0L7QuiDRgdGC0YDQsNC9INC00LvRjyDQsNC90LDQu9C40LfQsCDRgSDQuNGFINCy0LDRgNC40LDQvdGC0LDQvNC4INC90LAg0YDRg9GB0YHQutC+0Lwg0Lgg0LDQvdCz0LvQuNC50YHQutC+0LwKQ09VTlRSSUVTID0gewogICAgItCi0YPRgNGG0LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJUdXJrZXkiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0YLRg9GA0LXRhtC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9ydV9hbHQiOiAi0YLRg9GA0LXRhtC60LDRjyIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJ0dXJraXNoIgogICAgfSwKICAgICLQmtCw0LfQsNGF0YHRgtCw0L0iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiS2F6YWtoc3RhbiIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQutCw0LfQsNGF0YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfcnVfYWx0IjogItC60LDQt9Cw0YXRgdGC0LDQvdGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImthemFraCIKICAgIH0sCiAgICAi0JPQtdGA0LzQsNC90LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJHZXJtYW55IiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItC90LXQvNC10YbQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfcnVfYWx0IjogItCz0LXRgNC80LDQvdGB0LrQsNGPIiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImdlcm1hbiIKICAgIH0sCiAgICAi0KHQqNCQIjogewogICAgICAgICJuYW1lX2VuIjogIlVTQSIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQsNC80LXRgNC40LrQsNC90YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiYW1lcmljYW4iCiAgICB9LAogICAgItCS0LXQu9C40LrQvtCx0YDQuNGC0LDQvdC40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiVW5pdGVkIEtpbmdkb20iLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LHRgNC40YLQsNC90YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiYnJpdGlzaCIKICAgIH0sCiAgICAi0JPRgNGD0LfQuNGPIjogewogICAgICAgICJuYW1lX2VuIjogIkdlb3JnaWEiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LPRgNGD0LfQuNC90YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfcnVfYWx0IjogItCz0YDRg9C30LjQvdGB0LrQsNGPIiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImdlb3JnaWFuIgogICAgfSwKICAgICLQkNGA0LzQtdC90LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJBcm1lbmlhIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItCw0YDQvNGP0L3RgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9ydV9hbHQiOiAi0LDRgNC80Y/QvdGB0LrQsNGPIiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImFybWVuaWFuIgogICAgfSwKICAgICLQo9C30LHQtdC60LjRgdGC0LDQvSI6IHsKICAgICAgICAibmFtZV9lbiI6ICJVemJla2lzdGFuIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItGD0LfQsdC10LrRgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9ydV9hbHQiOiAi0YPQt9Cx0LXQutGB0LrQsNGPIiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogInV6YmVrIgogICAgfSwKICAgICLQn9C+0LvRjNGI0LAiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiUG9sYW5kIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItC/0L7Qu9GM0YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfcnVfYWx0IjogItC/0L7Qu9GM0YHQutCw0Y8iLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAicG9saXNoIgogICAgfSwKICAgICLQpNC40L3Qu9GP0L3QtNC40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiRmlubGFuZCIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLRhNC40L3RgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9ydV9hbHQiOiAi0YTQuNC90YHQutCw0Y8iLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiZmlubmlzaCIKICAgIH0sCiAgICAi0J3QuNC00LXRgNC70LDQvdC00YsiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiTmV0aGVybGFuZHMiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0L3QuNC00LXRgNC70LDQvdC00YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiZHV0Y2giCiAgICB9LAogICAgItCa0LjQv9GAIjogewogICAgICAgICJuYW1lX2VuIjogIkN5cHJ1cyIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQutC40L/RgNGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImN5cHJpb3QiCiAgICB9LAogICAgItCn0LXRhdC40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiQ3plY2ggUmVwdWJsaWMiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0YfQtdGI0YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiY3plY2giCiAgICB9LAogICAgItCv0L/QvtC90LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJKYXBhbiIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLRj9C/0L7QvdGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImphcGFuZXNlIgogICAgfSwKICAgICLQodC40L3Qs9Cw0L/Rg9GAIjogewogICAgICAgICJuYW1lX2VuIjogIlNpbmdhcG9yZSIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLRgdC40L3Qs9Cw0L/Rg9GA0YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAic2luZ2Fwb3JlYW4iCiAgICB9LAogICAgItCa0LjRgtCw0LkiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiQ2hpbmEiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LrQuNGC0LDQudGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImNoaW5lc2UiCiAgICB9LAogICAgItCT0L7QvdC60L7QvdCzIjogewogICAgICAgICJuYW1lX2VuIjogIkhvbmcgS29uZyIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQs9C+0L3QutC+0L3Qs9GB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImhvbmcga29uZyIKICAgIH0sCiAgICAi0JjQvdC00LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJJbmRpYSIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQuNC90LTQuNC50YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiaW5kaWFuIgogICAgfSwKICAgICLQmNC30YDQsNC40LvRjCI6IHsKICAgICAgICAibmFtZV9lbiI6ICJJc3JhZWwiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LjQt9GA0LDQuNC70YzRgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJpc3JhZWxpIgogICAgfSwKICAgICLQntCx0YrQtdC00LjQvdC10L3QvdGL0LUg0JDRgNCw0LHRgdC60LjQtSDQrdC80LjRgNCw0YLRiyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJVQUUiLAogICAgICAgICJuYW1lX3J1X3Nob3J0IjogItC+0LDRjSIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLRjdC80LjRgNCw0YLRgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJlbWlyYXRpIgogICAgfSwKICAgICLQqNCy0LXQudGG0LDRgNC40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiU3dpdHplcmxhbmQiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0YjQstC10LnRhtCw0YDRgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJzd2lzcyIKICAgIH0sCiAgICAi0KjQstC10YbQuNGPIjogewogICAgICAgICJuYW1lX2VuIjogIlN3ZWRlbiIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLRiNCy0LXQtNGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogInN3ZWRpc2giCiAgICB9LAogICAgItCa0LDQvdCw0LTQsCI6IHsKICAgICAgICAibmFtZV9lbiI6ICJDYW5hZGEiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LrQsNC90LDQtNGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImNhbmFkaWFuIgogICAgfSwKICAgICLQkNCy0YHRgtGA0LDQu9C40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiQXVzdHJhbGlhIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItCw0LLRgdGC0YDQsNC70LjQudGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImF1c3RyYWxpYW4iCiAgICB9LAogICAgItCR0YDQsNC30LjQu9C40Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiQnJhemlsIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItCx0YDQsNC30LjQu9GM0YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAiYnJhemlsaWFuIgogICAgfSwKICAgICLQkNGA0LPQtdC90YLQuNC90LAiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiQXJnZW50aW5hIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItCw0YDQs9C10L3RgtC40L3RgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJhcmdlbnRpbmlhbiIKICAgIH0sCiAgICAi0JzQtdC60YHQuNC60LAiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiTWV4aWNvIiwKICAgICAgICAiYWRqZWN0aXZlX3J1IjogItC80LXQutGB0LjQutCw0L3RgdC60LjQuSIsCiAgICAgICAgImFkamVjdGl2ZV9lbiI6ICJtZXhpY2FuIgogICAgfSwKICAgICLQrtC20L3QsNGPINCa0L7RgNC10Y8iOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiU291dGggS29yZWEiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0LrQvtGA0LXQudGB0LrQuNC5IiwKICAgICAgICAiYWRqZWN0aXZlX2VuIjogImtvcmVhbiIKICAgIH0sCiAgICAi0KLQsNC40LvQsNC90LQiOiB7CiAgICAgICAgIm5hbWVfZW4iOiAiVGhhaWxhbmQiLAogICAgICAgICJhZGplY3RpdmVfcnUiOiAi0YLQsNC50YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAidGhhaSIKICAgIH0sCiAgICAi0JzQsNC70LDQudC30LjRjyI6IHsKICAgICAgICAibmFtZV9lbiI6ICJNYWxheXNpYSIsCiAgICAgICAgImFkamVjdGl2ZV9ydSI6ICLQvNCw0LvQsNC50LfQuNC50YHQutC40LkiLAogICAgICAgICJhZGplY3RpdmVfZW4iOiAibWFsYXlzaWFuIgogICAgfQp9CgojINCd0LDRgdGC0YDQvtC50LrQuCDQv9C10YDQuNC+0LTQvtCyINCw0L3QsNC70LjQt9CwClRJTUVGUkFNRVMgPSB7CiAgICAiMV9tb250aCI6ICJ0b2RheSAxLW0iLAogICAgIjNfbW9udGhzIjogInRvZGF5IDMtbSIKfQoKIyDQndCw0YHRgtGA0L7QudC60Lgg0LPQtdC+0LvQvtC60LDRhtC40LggKNCg0L7RgdGB0LjRjykKR0VPID0gIlJVIgoKIyDQndCw0YHRgtGA0L7QudC60Lgg0LrQsNGC0LXQs9C+0YDQuNC5IChJVC/QmNC90YLQtdGA0L3QtdGCKQpDQVRFR09SWSA9IDEzCgojINCX0LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQt9Cw0L/RgNC+0YHQsNC80LggKNCyINGB0LXQutGD0L3QtNCw0YUpINGH0YLQvtCx0Ysg0L3QtSDQt9Cw0LHQu9C+0LrQuNGA0L7QstCw0LvQuApSRVFVRVNUX0RFTEFZID0gMg==
EOF64

# –î–µ–∫–æ–¥–∏—Ä—É–µ–º query_builder.py
base64 -d > query_builder.py << 'EOF64'
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AgICAgICBhbGxfcXVlcmllc1tjb3VudHJ5X25hbWVdID0gdmFyaWF0aW9ucwogICAgICAgIAogICAgcmV0dXJuIGFsbF9xdWVyaWVzCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGZyb20gY29uZmlnIGltcG9ydCBDT1VOVFJJRVMKICAgIAogICAgIyDQotC10YHRgiDQs9C10L3QtdGA0LDRhtC40Lgg0LfQsNC/0YDQvtGB0L7QsgogICAgYWxsX3F1ZXJpZXMgPSBnZW5lcmF0ZV9hbGxfcXVlcmllcyhDT1VOVFJJRVMpCiAgICAKICAgIHByaW50KCLQn9GA0LjQvNC10YAg0LfQsNC/0YDQvtGB0L7QsiDQtNC70Y8g0KLRg9GA0YbQuNC4OiIpCiAgICBmb3IgcXVlcnkgaW4gYWxsX3F1ZXJpZXNbItCi0YPRgNGG0LjRjyJdOgogICAgICAgIHByaW50KGYiICAtIHtxdWVyeX0iKQogICAgCiAgICBwcmludChmIlxu0JLRgdC10LPQviDRgdGC0YDQsNC9OiB7bGVuKGFsbF9xdWVyaWVzKX0iKQogICAgcHJpbnQoZiLQktGB0LXQs9C+INCy0LDRgNC40LDRhtC40Lkg0LfQsNC/0YDQvtGB0L7Qsjoge3N1bShsZW4odikgZm9yIHYgaW4gYWxsX3F1ZXJpZXMudmFsdWVzKCkpfSIp
EOF64

# –î–µ–∫–æ–¥–∏—Ä—É–µ–º google_trends_parser.py
base64 -d > google_trends_parser.py << 'EOF64'
IiIiCtCf0LDRgNGB0LXRgCBHb29nbGUgVHJlbmRzINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQsNC90L3Ri9GFINC+INC/0L7QuNGB0LrQvtCy0YvRhSDQt9Cw0L/RgNC+0YHQsNGFCiIiIgppbXBvcnQgdGltZQpmcm9tIHB5dHJlbmRzLnJlcXVlc3QgaW1wb3J0IFRyZW5kUmVxCmltcG9ydCBwYW5kYXMgYXMgcGQKZnJvbSBjb25maWcgaW1wb3J0IEdFTywgQ0FURUdPUlksIFJFUVVFU1RfREVMQVksIFRJTUVGUkFNRVMKCgpjbGFzcyBHb29nbGVUcmVuZHNQYXJzZXI6CiAgICAiIiLQmtC70LDRgdGBINC00LvRjyDQv9Cw0YDRgdC40L3Qs9CwINC00LDQvdC90YvRhSDQuNC3IEdvb2dsZSBUcmVuZHMiIiIKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIGdlbz0iUlUiLCBjYXRlZ29yeT1DQVRFR09SWSwgZGVsYXk9UkVRVUVTVF9ERUxBWSk6CiAgICAgICAgIiIiCiAgICAgICAg0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/QsNGA0YHQtdGA0LAKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBnZW86INCa0L7QtCDRgdGC0YDQsNC90Ysg0LTQu9GPINCz0LXQvtC70L7QutCw0YbQuNC4IChSVSAtINCg0L7RgdGB0LjRjykKICAgICAgICAgICAgY2F0ZWdvcnk6INCa0LDRgtC10LPQvtGA0LjRjyDQv9C+0LjRgdC60LAgKDEzIC0gSVQv0JjQvdGC0LXRgNC90LXRgikKICAgICAgICAgICAgZGVsYXk6INCX0LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQt9Cw0L/RgNC+0YHQsNC80Lgg0LIg0YHQtdC60YPQvdC00LDRhQogICAgICAgICIiIgogICAgICAgIHNlbGYuZ2VvID0gZ2VvCiAgICAgICAgc2VsZi5jYXRlZ29yeSA9IGNhdGVnb3J5CiAgICAgICAgc2VsZi5kZWxheSA9IGRlbGF5CiAgICAgICAgc2VsZi5weXRyZW5kcyA9IFRyZW5kUmVxKGhsPSdydS1SVScsIHR6PTE4MCkKICAgICAgICBzZWxmLnJlcXVlc3RfY291bnQgPSAwCiAgICAgICAgCiAgICBkZWYgZ2V0X2ludGVyZXN0X292ZXJfdGltZShzZWxmLCBxdWVyaWVzLCB0aW1lZnJhbWUpOgogICAgICAgICIiIgogICAgICAgINCf0L7Qu9GD0YfQsNC10YIg0LjQvdGC0LXRgNC10YEg0Log0LfQsNC/0YDQvtGB0LDQvCDQstC+INCy0YDQtdC80LXQvdC4CiAgICAgICAgCiAgICAgICAgQXJnczoKICAgICAgICAgICAgcXVlcmllczog0KHQv9C40YHQvtC6INC30LDQv9GA0L7RgdC+0LIgKNC80LDQutGB0LjQvNGD0LwgNSDQt9CwINGA0LDQtykKICAgICAgICAgICAgdGltZWZyYW1lOiDQn9C10YDQuNC+0LQg0LLRgNC10LzQtdC90LgKICAgICAgICAgICAgCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgRGF0YUZyYW1lOiDQlNCw0L3QvdC90LjQuCDQuNC90YLQtdGA0LXRgdCwINCy0L4g0LLRgNC10LzQtdC90LgKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucHl0cmVuZHMuYnVpbGRfcGF5bG9hZAogICAgICAgICAgICAgICBxdWVyaWVzLAogICAgICAgICAgICAgICAgY2F0PXNlbGYuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICB0aW1lZnJhbWU9dGltZWZyYW1lLAogICAgICAgICAgICAgICAgZ2VvPXNlbGYuZ2VvCiAgICAgICAgICAgICkKICAgICAgICAgICAgZGF0YSA9IHNlbGYucHl0cmVuZHMuaW50ZXJlc3Rfb3Zlcl90aW1lKCkKICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGYucmVxdWVzdF9jb3VudCArPSAxCiAgICAgICAgICAgIGlmIHNlbGYucmVxdWVzdF9jb3VudCA+IDE6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKHNlbGYuZGVsYXkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIGRhdGEKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYi0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40LggQtNCw0L3QvdGL0YUg0LTQu9GPIHtxdWVyaWVzfToge2V9IikKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgIAogICAgZGVmIGdldF9hdmVyYWdlX2ludGVyZXN0KHNlbGYsIHF1ZXJpZXMsIHRpbWVmcmFtZSk6CiAgICAgICAgIiIiCiAgICAgICAg0J/QvtC70YPRh9Cw0LXRgiINGB0YDQtdC00L3QuNC5INC40L3RgtC10YDQtdGBINC6INC30LDQv9GA0L7RgdCw0Lwg0LfQsCDQv9C10YDQuNC+0LQKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBxdWVyaWVzOiDQodC/0LjRgdC+0Log0LfQsNC/0YDQvtGB0L7QsgogICAgICAgICAgICB0aW1lZnJhbWU6INCf0LXRgNC40L7QtCDQstGA0LXQvNC10L3QuAogICAgICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkaWN0OiB7cXVlcnk6IGF2ZXJhZ2VfaW50ZXJlc3R9INC40LvQuCBOb25lINC10YHQu9C4INC+0YjQuNCx0LrQsAogICAgICAgICIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YSA9IHNlbGYuZ2V0X2ludGVyZXN0X292ZXJfdGltZShxdWVyaWVzWzo1XSwgdGltZWZyYW1lKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZGF0YSBpcyBOb25lIG9yIGRhdGEuZW1wdHk6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgICAgICAKICAgICAgICAgICAgIyDQo9C00LDQu9GP0LXQvCDRgdGC0L7Qu9Cx0LXRhiBpc1BhcnRpYWwg0LXRgdC70Lgg0LXRgdGC0YwKICAgICAgICAgICAgaWYgJ2lzUGFydGlhbCcgaW4gZGF0YS5jb2x1bW5zOgogICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuZHJvcChjb2x1bW5zPVsnaXNQYXJ0aWFsJ10pCiAgICAgICAgICAgIAogICAgICAgICAgICAjINCS0YvRh9C40YHQu9GP0LXQvCDRgdGA0LXQtNC90LXQtSDQt9C90LDRh9C10L3QuNC1INC00LvRjyDQutCw0LbQtNC+0LPQviDQt9Cw0L/RgNC+0YHQsAogICAgICAgICAgICBhdmVyYWdlcyA9IHt9CiAgICAgICAgICAgIGZvciBxdWVyeSBpbiBxdWVyaWVzWzo1XToKICAgICAgICAgICAgICAgIGlmIHF1ZXJ5IGluIGRhdGEuY29sdW1uczoKICAgICAgICAgICAgICAgICAgICBhdmVyYWdlc1txdWVyeV0gPSBkYXRhW3F1ZXJ5XS5tZWFuKCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZXNbcXVlcnldID0gMAogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gYXZlcmFnZXMKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYi0J7RiNC40LHQutCwINC/0YDQuCDQstGL0YfQuNGB0LvQtdC90LjQuCDRgdGA0LXQtNC90LXQs9C+INC40L3RgtC10YDQtdGB0LA6IHtlfSIpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAKICAgIGRlZiBwYXJzZV9jb3VudHJ5X3F1ZXJpZXMoc2VsZiwgY291bnRyeV9uYW1lLCBxdWVyaWVzLCB0aW1lZnJhbWVzKToKICAgICAgICAiIiIKICAgICAgICDQn9Cw0YDRgdC40YIg0LLRgdC1INC30LDQv9GA0L7RgdGLINC00LvRjyDQvtC00L3QvtC5INGB0YLRgNCw0L3RiwogICAgICAgIAogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGNvdW50cnlfbmFtZTog0J3QsNC30LLQsNC90LjQtSDRgdGC0YDQsNC90YsKICAgICAgICAgICAgcXVlcmllczog0KHQv9C40YHQvtC6INC30LDQv9GA0L7RgdC+0LIg0LTQu9GPINGB0YLRgNCw0L3RiwogICAgICAgICAgICB0aW1lZnJhbWVzOiDQodC70L7QstCw0YDRjCBYtgbmFtZTogdmFsdWVfCiAgICAgICAgICAgIAogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIGRpY3Q6INCU0LDQvdC90LjQuCDQv9C+INGB0YDQtdC00L3QuNC4INC4INC/0LXRgNC40L7QtNCw0LwKICAgICAgICAiIiIKICAgICAgICBjb3VudHJ5X2RhdGEgPSB7CiAgICAgICAgICAgICJjb3VudHJ5IjogY291bnRyeV9uYW1lLAogICAgICAgICAgICAicXVlcmllcyI6IHt9CiAgICAgICAgfQogICAgICAgIAogICAgICAgICMg0J/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0LTQu9GPINC60LDQttC00L7Qs9C+INC/0LXRgNC40L7QtNCwKICAgICAgICBmb3IgcGVyaW9kX25hbWUsIHBlcmlvZF92YWx1ZSBpbiB0aW1lZnJhbWVzLml0ZW1zKCk6CiAgICAgICAgICAgIHBlcmlvZF9kYXRhID0ge30KICAgICAgICAgICAgCiAgICAgICAgICAgICMg0J/QvtC70YPRh9Cw0LXQvCDRgdGA0LXQtNC90LjQuSDQuNC90YLQtdGA0LXRgdC60LjQtSDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0LfQsNC/0YDQvtGB0L7QsgogICAgICAgICAgICBhdmVyYWdlcyA9IHNlbGYuZ2V0X2F2ZXJhZ2VfaW50ZXJlc3QocXVlcmllcywgcGVyaW9kX3ZhbHVlKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYXZlcmFnZXM6CiAgICAgICAgICAgICAgICAjINCd0LDRhdC+0LTQuNC80LjRgtC10LvQjCDQt9Cw0L/RgNC+0YEg0YEg0LzQsNC60YHQuNC80LDQu9GM0L3Ri9C8INC40L3RgtC10YDQtdGB0L7QvAogICAgICAgICAgICAgICAgbWF4X3F1ZXJ5ID0gbWF4KGF2ZXJhZ2VzLml0ZW1zKCksIGtleT1sYW1iZGEgeDogeFsxXSBpZiB4WzFdIGlzIG5vdCBOb25lIGVsc2UgMCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcGVyaW9kX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgImF2ZXJhZ2VzIjogYXZlcmFnZXMsCiAgICAgICAgICAgICAgICAgICAgIm1heF9pbnRlcmVzdCI6IG1heF9xdWVyeVsxXSBpZiBtYXhfcXVlcnlbMV0gaXMgbm90IE5vbmUgZWxzZSAwLAogICAgICAgICAgICAgICAgICAgICJ0b3BfcXVlcnkiOiBtYXhfcXVlcnlbMF0sCiAgICAgICAgICAgICAgICAgICAgImFsbF9xdWVyaWVzIjogcXVlcmllcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjINCf0L7Qu9GD0YfQsNC10Lwg0YHRstGP0LfQsNC90L3Ri9C1INC30LDQv9GA0L7RgdGLINC00LvRjyDRgtC+0L8g0LfQsNC/0YDQvtGB0LAKICAgICAgICAgICAgICAgIHJlbGF0ZWQgPSBzZWxmLmdldF9yZWxhdGVkX3F1ZXJpZXMobWF4X3F1ZXJ5WzBdLCBwZXJpb2RfdmFsdWUpCiAgICAgICAgICAgICAgICBpZiByZWxhdGVkOgogICAgICAgICAgICAgICAgICAgIHBlcmlvZF9kYXRhWyJyZWxhdGVkX3F1ZXJpZXMiXSA9IHJlbGF0ZWQKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvdW50cnlfZGF0YVsicXVlcmllcyJdW3BlcmlvZF9uYW1lXSA9IHBlcmlvZF9kYXRhCiAgICAgICAgCiAgICAgICAgcmV0dXJuIGNvdW50cnlfZGF0YQogICAgCiAgICBkZWYgZ2V0X3JlbGF0ZWRfcXVlcmllcyhzZWxmLCBxdWVyeSwgdGltZWZyYW1lKToKICAgICAgICAiIiIKICAgICAgICDQn9C+0LvRg9GH0LDQtdGCINGB0LLRj9C30LDQvdC90YvQtSDQt9Cw0L/RgNC+0YHRiwogICAgICAgIAogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHF1ZXJ5OiDQn9C+0LjRgdC60L7QstGL0Lkg0LfQsNC/0YDQvtGBCiAgICAgICAgICAgIHRpbWVmcmFtZTogINCf0LXRgNC40L7QtCDQstGA0LXQvNC10L3QuAogICAgICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkaWN0OiDQodCy0Y/Qt9Cw0L3QvdGL0LUg0LfQsNC/0YDQvtGB0YsgKHJpc2luZyDQuCB0b3ApCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnB5dHJlbmRzLmJ1aWxkX3BheWxvYWQKICAgICAgICAgICAgICAgW3F1ZXJ5XSwKICAgICAgICAgICAgICAgIGNhdD1zZWxmLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgdGltZWZyYW1lPXRpbWVmcmFtZSwKICAgICAgICAgICAgICAgIGdlbz1zZWxmLmdlbwogICAgICAgICAgICApCiAgICAgICAgICAgIGRhdGEgPSBzZWxmLnB5dHJlbmRzLnJlbGF0ZWRfcXVlcmllcygpCiAgICAgICAgICAgIAogICAgICAgICAgICBzZWxmLnJlcXVlc3RfY291bnQgKz0gMQogICAgICAgICAgIGlmIHNlbGYucmVxdWVzdF9jb3VudCA+IDE6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKHNlbGYuZGVsYXkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIGRhdGEuZ2V0KHF1ZXJ5LCB7fSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYi0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0YHQstGP0LfQsNC90L3Ri9GFINC30LDQv9GA0L7RgdC+0LIg0LTQu9GPIHtxdWVyeX06IHtlfSIpCiAgICAgICAgICAgIHJldHVybiB7fQogICAgCiAgICBkZWYgcGFyc2VfYWxsX2NvdW50cmllcyhzZWxmLCBhbGxfcXVlcmllcywgdGltZWZyYW1lcyk6CiAgICAgICAgIiIiCiAgICAgICAg0J/QsNGA0YHQuNGCINC00LDQvdC90YvQtSDQtNC70Y8g0LLRgdC10YUg0YHRgtGA0LDQvQogICAgICAgIAogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGFsbF9xdWVyaWVzOiDQodC70L7QstCw0YDRjCB7Y291bnRyeV9uYW1lOiBbcXVlcmllc119CiAgICAgICAgICAgIHRpbWVmcmFtZXM6INCh0LvQvtCy0LDRgNGMINGBINC/0LXRgNC40L7QtNCw0LzQuAogICAgICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkaWN0OiDQlNCw0L3QvdC90LjQuCDQv9C+INGB0YDQtdC00L3QuNC4INC4INC/0LXRgNC40L7QtNCw0LwKICAgICAgICAiIiIKICAgICAgICBhbGxfZGF0YSA9IHt9CiAgICAgICAgdG90YWxfY291bnRyaWVzID0gbGVuKGFsbF9xdWVyaWVzKQogICAgICAgIAogICAgICAgIHByaW50KGYi0J3QsNGH0LjQvdCw0LXRvCDQv9Cw0YDRgdC40L3Qs9CwIHt0b3RhbF9jb3VudHJpZXN9INGB0YLRgNCw0L0uLi4iKQogICAgICAgIHByaW50KCI9IiAqIDYwKQogICAgICAgIAogICAgICAgIGZvciBpZHgsIChjb3VudHJ5X25hbWUsIHF1ZXJpZXMpIGluIGVudW1lcmF0ZShhbGxfcXVlcmllcy5pdGVtcygpLCAxKToKICAgICAgICAgICAgcHJpbnQoZiJbe2lkeH0ve3RvdGFsX2NvdW50cmllc11dINCf0LDRgNGB0LjQvCB7Y291bnRyeV9uYW1lfS4uLiIpCiAgICAgICAgICAgIAogICAgICAgICAgICBjb3VudHJ5X2RhdGEgPSBzZWxmLnBhcnNlX2NvdW50cnlfcXVlcmllcyhjb3VudHJ5X25hbWUsIHF1ZXJpZXMsIHRpbWVmcmFtZXMpCiAgICAgICAgICAgIGFsbF9kYXRhW2NvdW50cnlfbmFtZV0gPSBjb3VudHJ5X2RhdGEKICAgICAgICAgICAgCiAgICAgICAgICAgICMg0J3QtdCx0L7Qu9GM0YjQsNGPINC30LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDRgdGC0YDQsNC90LDQvNC4KICAgICAgICAgICAgaWYgaWR4IDwgdG90YWxfY291bnRyaWVzOgogICAgICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLmRlbGF5KQogICAgICAgIAogICAgICAgIHByaW50KCI9IiAqIDYwKQogICAgICAgIHByaW50KGYiItCf0LDRgNGB0LjQvdCzINC30LDQstC10YDRiNC10L0hINCS0YHQtdCz0L4g0LfQsNC/0YDQvtGB0L7Qsjoge3NlbGYucmVxdWVzdF9jb3VudH0iKQogICAgICAgIAogICAgICAgIHJldHVybiBhbGxfZGF0YQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBmcm9tIHF1ZXJ5X2J1aWxkZXIgaW1wb3J0IGdlbmVyYXRlX2FsbF9xdWVyaWVzCiAgICBmcm9tIGNvbmZpZyBpbXBvcnQgQ09VTlRSSUVTCiAgICAKICAgICMg0KLQtdGB0YIg0L/QsNGA0YHQtdGA0LAKICAgIHBhcnNlciA9IEdvb2dsZVRyZW5kc1BhcnNlcigpCiAgICAKICAgICMg0JPQtdC90LXRgNC40YDRg9C10Lwg0LfQsNC/0YDQvtGB0YsKICAgIGFsbF9xdWVyaWVzID0gZ2VuZXJhdGVfYWxsX3F1ZXJpZXMoQ09VTlRSSUVTKQogICAgCiAgICAjINCi0LXRgdGC0LjRgNGD0LXQvCDQvdCwINC+0LTQvdC+0Lkg0YHRgtGA0LDQvdC1CiAgICB0ZXN0X2NvdW50cnkgPSAi0KLRg9GA0YbQuNGPIgogICAgcHJpbnQoZiLQotC10YHRgiDQv9Cw0YDRgdC10YDQsCDQtNC70Y8ge3Rlc3RfY291bnRyeX0iKQogICAgcHJpbnQoIi0iICogNjApCiAgICAKICAgIHF1ZXJpZXMgPSBhbGxfcXVlcmllc1t0ZXN0X2NvdW50cnldCiAgICBkYXRhID0gcGFyc2VyLnBhcnNlX2NvdW50cnlfcXVlcmllcyh0ZXN0X2NvdW50cnksIHF1ZXJpZXMsIFRJTUVGUkFNRVMpCiAgICAKICAgIHByaW50KGYiXG7QoNC10LfRg9C70YzRgtCw0YLRiyDQtNC70Y8ge3Rlc3RfY291bnRyeX06IikKICAgIGZvciBwZXJpb2QsIHBlcmlvZF9kYXRhIGluIGRhdGFbInF1ZXJpZXMiXS5pdGVtcygpOgogICAgICAgIGlmIHBlcmlvZF9kYXRhOgogICAgICAgICAgICBwcmludChmIlxu0J/QtdGA0LjQvtC0IHtwZXJpb2R9OiIpCiAgICAgICAgICAgIHByaW50KGYiICDQotC+0L8g0LfQsNC/0YDQvtGBOiB7cGVyaW9kX2RhdGFbJ3RvcF9xdWVyeSddfSIpCiAgICAgICAgICAgIHByaW50KGYiICDQnNCw0LrRgS4g0LjQvdGC0LXRgNC10YE6IHtwZXJpb2RfZGF0YVsnbWF4X2ludGVyZXN0J119IikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIlxu0J/QtdGA0LjQvtC0IHtwZXJpb2R9OiDQndC10YIg0LTQsNC90L3Ri9GFIik=
EOF64

# –î–µ–∫–æ–¥–∏—Ä—É–µ–º analyzer.py
base64 -d > analyzer.py << 'EOF64'
IiIiCtCQ0L3QsNC70LjQt9Cw0YLQvtGAINC00LDQvdC90YvRhSBTRU8t0LfQsNC/0YDQvtGB0L7QsgoiIiIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCgpjbGFzcyBTRU9BbmFseXplcjoKICAgICIiItCa0LvQsNGB0YEg0LTQu9GPINCw0L3QsNC70LjQt9Cw0YLQvtGA0LAKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIGFsbF9kYXRhLCBhbGxfcXVlcmllcz1Ob25lKToKICAgICAgICAiIiIKICAgICAgICAgICAgINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINCw0L3QsNC70LjQt9Cw0YLQvtGA0LAKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBhbGxfZGF0YTog0IHQu9C+0LLQsNGA0Ywg0YEg0LTQsNC90L3Ri9C80Lgg0L/QviDQstGB0LXQvCDRgdGC0YDQsNC90LDQvAogICAgICAgICAgICBhbGxfcXVlcmllczog0IHQu9C+0LLQsNGA0Ywg0YEg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDQt9Cw0L/RgNC+0YHQvtCyINC00LvRjyDQutCw0LbQtNC+0Lkg0YHRgtGA0LDQvdGLCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5hbGxfZGF0YSA9IGFsbF9kYXRhCiAgICAgICAgc2VsZi5hbGxfcXVlcmllcyA9IGFsbF9xdWVyaWVzIG9yIHt9CiAgICAgICAgc2VsZi5hbmFseXplZCA9IHt9CiAgICAgICAgCiAgICBkZWYgYW5hbHl6ZV9hbGxfY291bnRyaWVzKHNlbGYpOgogICAgICAgICIiIgogICAgICAgINCQ0L3QsNC70LjQt9C40YDRg9C10YIg0LTQsNC90L3Ri9C1INC/0L4g0LLRgdC10Lwg0YHRgtGA0LDQvdCw0LwKICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkaWN0OiDQkNC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0LUg0LTQsNC90L3Ri9C1CiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5hbmFseXplZCA9IHsKICAgICAgICAgICAgImNvdW50cmllcyI6IHt9LAogICAgICAgICAgICAicmFua2luZyI6IHt9LAogICAgICAgICAgICAidGltZXN0YW1wIjogZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZLSVbLSVkICVIOiVNOiVTIikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZm9yIGNvdW50cnlfbmFtZSwgY291bnRyeV9kYXRhIGluIHNlbGYuYWxsX2RhdGEuaXRlbXMoKToKICAgICAgICAgICAgc2VsZi5hbmFseXplZFsiY291bnRyaWVzIl1bY291bnRyeV9uYW1lXSA9IHNlbGYuX2FuYWx5emVfY291bnRyeShjb3VudHJ5X2RhdGEpCiAgICAgICAgCiAgICAgICAgIyDQodC+0LfQtNCw0LXQvCDRgNC10LnRgtC40L3QsyDRgdGC0YDQsNC9CiAgICAgICAgc2VsZi5fY3JlYXRlX3JhbmtpbmdzKCkKICAgICAgICAKICAgICAgICByZXR1cm4gc2VsZi5hbmFseXplZAogICAgCiAgICBkZWYgX2FuYWx5emVfY291bnRyeShzZWxmLCBjb3VudHJ5X2RhdGEpOgogICAgICAgICIiIgogICAgICAgINCQ0L3QsNC70LjQt9C40YDRg9C10YIg0LTQsNC90L3Ri9C1INC+0LTQvdC+0Lkg0YHRgtGA0LDQvdGLCiAgICAgICAgCiAgICAgICAgQXJnczoKICAgICAgICAgICAgY291bnRyeV9kYXRhOiDQlNCw0L3QvdGL0LUg0L/QviDQvtC00L3QvtC5INGB0YLRgNCw0L3QtQogICAgICAgICAgICAKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICBkaWN0OiDQkNC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0LUg0LTQsNC90L3Ri9C1INGB0YLRgNCw0L3RiwogICAgICAgICIiIgogICAgICAgIGFuYWx5c2lzID0gewogICAgICAgICAgICAiY291bnRyeSI6IGNvdW50cnlfZGF0YVsiY291bnRyeSJdLAogICAgICAgICAgICAicGVyaW9kcyI6IHt9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZvciBwZXJpb2RfbmFtZSwgcGVyaW9kX2RhdGEgaW4gY291bnRyeV9kYXRhWyJxdWVyaWVzIl0uaXRlbXMoKToKICAgICAgICAgICAgaWYgcGVyaW9kX2RhdGEgYW5kIHBlcmlvZF9kYXRhLmdldCgibWF4X2ludGVyZXN0IiwgMCkgPiAwOgogICAgICAgICAgICAgICAgcGVyaW9kX2FuYWx5c2lzID0gewogICAgICAgICAgICAgICAgICAgICJtYXhfaW50ZXJlc3QiOiBwZXJpb2RfZGF0YVsibWF4X2ludGVyZXN0Il0sCiAgICAgICAgICAgICAgICAgICAgInRvcF9xdWVyeSI6IHBlcmlvZF9kYXRhWyJ0b3BfcXVlcnkiXSwKICAgICAgICAgICAgICAgICAgICAiYWxsX2ludGVyZXN0cyI6IHBlcmlvZF9kYXRhWyJhdmVyYWdlcyJdLAogICAgICAgICAgICAgICAgICAgICJyZWxhdGVkX3F1ZXJpZXMiOiBwZXJpb2RfZGF0YS5nZXQoInJlbGF0ZWRfcXVlcmllcyIsIHt9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYW5hbHlzaXNbInBlcmlvZHMiXVtwZXJpb2RfbmFtZV0gPSBwZXJpb2RfYW5hbHlzaXMKICAgICAgICAKICAgICAgICByZXR1cm4gYW5hbHlzaXMKICAgIAogICAgZGVmIF9jcmVhdGVfcmFua2luZ3Moc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAg0KHQvtC30LTQsNC10YIg0YDQtdC50YLQuNC90LPQuCDRgdGC0YDQsNC9INC/0L4g0L/QvtC/0YPQu9GP0YDQvdC+0YHRgtC4CiAgICAgICAgIiIiCiAgICAgICAgIyDQoNC10LnRgtC40L3QsyDQt9CwIDMg0LzQtdGB0Y/RhtCwICjQvtGB0L3QvtCy0L3QvtC5KQogICAgICAgIHJhbmtpbmdfM20gPSBbXQogICAgICAgIHJhbmtpbmdfMW0gPSBbXQogICAgICAgIAogICAgICAgIGZvciBjb3VudHJ5X25hbWUsIGFuYWx5c2lzIGluIHNlbGYuYW5hbHl6ZWRbImNvdW50cmllcyJdLml0ZW1zKCk6CiAgICAgICAgICAgICMg0JTQsNC90L3Ri9C1INC30LAgMyDQvNC10YHRj9GG0LAKICAgICAgICAgICAgaWYgIjNfbW9udGhzIiBpbiBhbmFseXNpc1sicGVyaW9kcyJdOgogICAgICAgICAgICAgICAgcmFua2luZ18zbS5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJjb3VudHJ5IjogY291bnRyeV9uYW1lLAogICAgICAgICAgICAgICAgICAgICJpbnRlcmVzdCI6IGFuYWx5c2lzWyJwZXJpb2RzIl1bIjNfbW9udGhzIl1bIm1heF9pbnRlcmVzdCJdLAogICAgICAgICAgICAgICAgICAgICJ0b3BfcXVlcnkiOiBhbmFseXNpc1sicGVyaW9kcyJdWyIzX21vbnRocyJdWyJ0b3BfcXVlcnkiXQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgCiAgICAgICAgICAgICMg0JTQsNC90L3Ri9C1INC30LAgMSDQvNC10YHRj9GGCiAgICAgICAgICAgIGlmICIxX21vbnRoIiBpbiBhbmFseXNpc1sicGVyaW9kcyJdOgogICAgICAgICAgICAgICAgcmFua2luZ18xbS5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJjb3VudHJ5IjogY291bnRyeV9uYW1lLAogICAgICAgICAgICAgICAgICAgICJpbnRlcmVzdCI6IGFuYWx5c2lzWyJwZXJpb2RzIl1bIjFfbW9udGgiXVsibWF4X2ludGVyZXN0Il0sCiAgICAgICAgICAgICAgICAgICAgInRvcF9xdWVyeSI6IGFuYWx5c2lzWyJwZXJpb2RzIl1bIjFfbW9udGgiXVsInRvcF9xdWVyeSJdCiAgICAgICAgICAgICAgICAgfSkKICAgICAgICAKICAgICAgICAjINCh0L7RgNGC0LjRgNGD0LXQvCDQv9C+INGD0LHRi9Cy0LDQvdC40Y4g0LjQvdGC0LXRgNC10YHQsAogICAgICAgIHJhbmtpbmdfM20uc29ydChrZXk9bGFtYmRhIHg6IHhbImludGVyZXN0Il0sIHJldmVyc2U9VHJ1ZSkKICAgICAgICByYW5raW5nXzFtLnNvcnQoa2V5PWxhbWJkYSB4OiB4WyJpbnRlcmVzdCJdLCByZXZlcnNlPVRydWUpCiAgICAgICAgCiAgICAgICAgc2VsZi5hbmFseXplZFsicmFua2luZyJdWyIzX21vbnRocyJdID0gcmFua2luZ18zbQogICAgICAgIHNlbGYuYW5hbHl6ZWRbInJhbmtpbmciXVsiMV9tb250aCJdID0gcmFua2luZ18xbQogICAgICAgIAogICAgICAgICMg0JLRi9GH0LjRgdC70Y/QtdC8INC40LfQvNC10L3QtdC90LjQtSAo0YDQvtGB0GL9C/0LDQtNC10L3QuNC1KQogICAgICAgIHNlbGYuX2NhbGN1bGF0ZV90cmVuZCgpCiAgICAKICAgIGRlZiBfY2FsY3VsYXRlX3RyZW5kKHNlbGYpOgogICAgICAgICIiIgogICAgICAgINCS0YvRh9C40YHQu9GP0LXRgiDRgtGA0LXQvdC0ICjRgNC+0YHRgi/Qv9Cw0LTQtdC90LjQtSkg0LzQtdC20LTRgyDQv9C10YDQuNC+0LTQsNC80LgKICAgICAgICAiIiIKICAgICAgICB0cmVuZHMgPSBbXQogICAgICAgIAogICAgICAgIGZvciBjb3VudHJ5X25hbWUsIGFuYWx5c2lzIGluIHNlbGYuYW5hbHl6ZWRbImNvdW50cmllcyJdLml0ZW1zKCk6CiAgICAgICAgICAgIGlmICIxX21vbnRoIiBpbiBhbmFseXNpc1sicGVyaW9kcyJdIGFuZCAiM19tb250aHMiIGluIGFuYWx5c2lzWyJwZXJpb2RzIl06CiAgICAgICAgICAgICAgICBpbnRlcmVzdF8xbSA9IGFuYWx5c2lzWyJwZXJpb2RzIl1bIjFfbW9udGgiXVsibWF4X2ludGVyZXN0Il0KICAgICAgICAgICAgICAgIGludGVyZXN0XzNtID0gYW5hbHlzaXNbInBlcmlvZHMiXVsiM19tb250aHMiXVsibWF4X2ludGVyZXN0Il0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgaW50ZXJlc3RfM20gPiAwOgogICAgICAgICAgICAgICAgICAgIGNoYW5nZV9wZXJjZW50ID0gKChpbnRlcmVzdF8xbSAtIGludGVyZXN0XzNtKSAvIGludGVyZXN0XzNtKSAqIDEwMAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjaGFuZ2VfcGVyY2VudCA9IDAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdHJlbmRzLmFwcGVuZCh7CiAgICAgICAgICAgICAgICAgICAgImNvdW50cnkiOiBjb3VudHJ5X25hbWUsCiAgICAgICAgICAgICAgICAgICAgImludGVyZXN0XzFtIjogaW50ZXJlc3RfMW0sCiAgICAgICAgICAgICAgICAgICAgImludGVyZXN0XzNtIjogaW50ZXJlc3RfM20sCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZV9wZXJjZW50IjogY2hhbmdlX3BlcmNlbnQKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgCiAgICAgICAgc2VsZi5hbmFseXplZFsidHJlbmRzIl0gPSB0cmVuZHMKICAgIAogICAgZGVmIGdldF90b3BfY291bnRyaWVzKHNlbGYsIHBlcmlvZD0iM19tb250aHMiLCBsaW1pdD0yMCk6CiAgICAgICAgIiIiCiAgICAgICAg0JLQvtC30LLRgNCw0YnQsNC10YIg0YLQvtC/INGB0YLRgNCw0L0g0L/QviDQv9C+0L/Rg9C70Y/RgNC90L7RgdGC0LgKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBwZXJpb2Q6INCf0LXRgNC40L7QtCDQsNC90LDQu9C40LfQsCAoMV9tb250aCDQuNC70LggM19tb250aHMpCiAgICAgICAgICAgIGxpbWl0OiDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdGC0YDQsNC9INCyINGC0L7Qv9C1CiAgICAgICAgICAgIAogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIGxpc3Q6INCi0L7QvyDRgdGC0YDQsNC9CiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuYW5hbHl6ZWRbInJhbmtpbmciXS5nZXQocGVyaW9kLCBbXSlbOmxpbWl0XQogICAgCiAgICBkZWYgZ2V0X3Jpc2luZ19jb3VudHJpZXMoc2VsZiwgbGltaXQ9MTApOgogICAgICAgICIiIgogICAgICAgINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGB0YLRgNCw0L3RiyDRgSDRgNCw0YHRgtGD0YnQuNC8INGB0L/RgNC+0YHQvtC8CiAgICAgICAgCiAgICAgICAgQXJnczoKICAgICAgICAgICAgbGltaXQ6INCa0L7Qu9C40YfQtdGB0YLQstC+INGB0YLRgNCw0L0KICAgICAgICAgICAgCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgbGlzdDog0KHRgtGA0LDQvdGLINGBINGA0L7RgdGC0L7QvAogICAgICAgICIiIgogICAgICAgIHJpc2luZyA9IFt0IGZvciB0IGluIHNlbGYuYW5hbHl6ZWRbInRyZW5kcyJdIGlmIHRbImNoYW5nZV9wZXJjZW50Il0gPiAwXQogICAgICAgIHJpc2luZy5zb3J0KGtleT1sYW1iZGEgeDogeFsiY2hhbmdlX3BlcmNlbnQiXSwgcmV2ZXJzZT1UcnVlKQogICAgICAgIHJldHVybiByaXNpbmdbOmxpbWl0XQogICAgCiAgICBkZWYgZ2V0X2ZhbGxpbmdfY291bnRyaWVzKHNlbGYsIGxpbWl0PTEwKToKICAgICAgICAiIiIKICAgICAgICDQktC+0LfQstGA0LDRidCw0LXRgiDRgdGC0YDQsNC90Ysg0YEg0L/QsNC00LDRjtGJ0LjQvCDRgdC/0YDQvtGB0L7QvAogICAgICAgIAogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGxpbWl0OiDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdGC0YDQsNC9CiAgICAgICAgICAgIAogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIGxpc3Q6INCh0YLRgNCw0L3RiyDRgSDQv9Cw0LTQtdC90LjQtdC8CiAgICAgICAgIiIiCiAgICAgICAgZmFsbGluZyA9IFt0IGZvciB0IGluIHNlbGYuYW5hbHl6ZWRbInRyZW5kcyJdIGlmIHRbImNoYW5nZV9wZXJjZW50Il0gPCAwXQogICAgICAgIGZhbGxpbmcuc29ydChrZXk9bGFtYmRhIHg6IHhbImNoYW5nZV9wZXJjZW50Il0pCiAgICAgICAgcmV0dXJuIGZhbGxpbmdbOmxpbWl0XQogICAgCiAgICBkZWYgZ2V0X3JlbGF0ZWRfcXVlcmllcyhzZWxmLCBjb3VudHJ5X25hbWUsIHBlcmlvZD0iM19tb250aHMiLCBsaW1pdD0xMCk6CiAgICAgICAgIiIiCiAgICAgICAg0JLQvtC30LLRgNCw0YnQsNC10YIg0YHQstGP0LfQsNC90L3Ri9C1INC30LDQv9GA0L7RgdGLINC00LvRjyDQgdGC0YDQsNC90YsKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBjb3VudHJ5X25hbWU6INCd0LDQt9Cy0LDQvdC40LUg0YHRgtGA0LDQvdGLCiAgICAgICAgICAgIHBlcmlvZDog0J/QtdGA0LjQvtC0INCw0L3QsNC70LjQt9CwKICAgICAgICAgICAgbGltaXQ6INCa0L7Qu9C40YfQtdGB0YLQstC+INC30LDQv9GA0L7RgdC+0LIKICAgICAgICAgICAgCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgZGljdDog0KHRstGP0LfQsNC90L3Ri9C1INC30LDQv9GA0L7RgdGLKHRvcCDQuCByaXNpbmcpCiAgICAgICAgIiIiCiAgICAgICAgaWYgY291bnRyeV9uYW1lIG5vdCBpbiBzZWxmLmFuYWx5emVkWyJjb3VudHJpZXMiXToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICAKICAgICAgICBwZXJpb2RfZGF0YSA9IHNlbGYuYW5hbHl6ZWRbImNvdW50cmllcyJdW2NvdW50cnlfbmFtZV1bInBlcmlvZHMiXS5nZXQocGVyaW9kKQogICAgICAgIGlmIG5vdCBwZXJpb2RfZGF0YToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICAKICAgICAgICByZWxhdGVkID0gcGVyaW9kX2RhdGEuZ2V0KCJyZWxhdGVkX3F1ZXJpZXMiLCB7fSkKICAgICAgICByZXN1bHQgPSB7CiAgICAgICAgICAgICJ0b3AiOiBbXSwKICAgICAgICAgICAgInJpc2luZyI6IFtdCiAgICAgICAgfQogICAgICAgIAogICAgICAgICMgVG9wINC30LDQv9GA0L7RgdGLCiAgICAgICAgaWYgInRvcCIgaW4gcmVsYXRlZCBhbmQgcmVsYXRlZFsidG9wIl0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHRvcF9xdWVyaWVzID0gcmVsYXRlZFsidG9wIl0uaGVhZChsaW1pdCkudG9fZGljdCgncmVjb3JkcycpCiAgICAgICAgICAgIHJlc3VsdFsidG9wIl0gPSBbCiAgICAgICAgICAgICAgICB7InF1ZXJ5IjogcVsncXVlcnknXSwgImludGVyZXN0IjogcVsndmFsdWUnXX0KICAgICAgICAgICAgICAgIGZvciBxIGluIHRvcF9xdWVyaWVzCiAgICAgICAgICAgIF0KICAgICAgICAKICAgICAgICAjIFJpc2luZyDQt9Cw0L/RgNC+0YHRiwogICAgICAgIGlmICJyaXNpbmciIGluIHJlbGF0ZWQgYW5kIHJlbGF0ZWRbInJpc2luZyJdIGlzIG5vdCBOb25lOgogICAgICAgICAgICByaXNpbmdfcXVlcmllcyA9IHJlbGF0ZWRbInJpc2luZyJdLmhlYWQobGltaXQpLnRvX2RpY3QoJ3JlY29yZHMnKQogICAgICAgICAgICByZXN1bHRbInJpc2luZyJdID0gWwogICAgICAgICAgICAgICAgeyJxdWVyeSI6IHFbJ3F1ZXJ5J10sICJpbnRlcmVzdCI6IHFbJ3ZhbHVlJ119CiAgICAgICAgICAgICAgICBmb3IgcSBpbiByaXNpbmdfcXVlcmllcwogICAgICAgICAgICBdCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgCiAgICBkZWYgZ2V0X2FsbF9xdWVyaWVzX2ludGVyZXN0KHNlbGYsIGNvdW50cnlfbmFtZSwgcGVyaW9kPSIzX21vbnRocyIpOgogICAgICAgICIiIgogICAgICAgINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC40L3RgtC10YDQtdGBINC/0L4g0LLRgdC10Lwg0LLQsNGA0LjQsNGG0LjRj9C8INC30LDQv9GA0L7RgdC+0LIg0LTQu9GPINGB0YLRgNCw0L3RiwogICAgICAgIAogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGNvdW50cnlfbmFtZTog0J3QsNC30LLQsNC90LjQtSDRgdGC0YDQsNC90YsKICAgICAgICAgICAgcGVyaW9kOiDQn9C10YDQuNC+0LQg0LDQvdCw0LvQuNC30LAKICAgICAgICAgICAgCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgbGlzdDog0KHQv9C40YHQvtC6INC30LDQv9GA0L7RgdC+0LIg0YEg0LjRhSDQuNC90YLQtdGA0LXRgdC+0LwKICAgICAgICAiIiIKICAgICAgICBpZiBjb3VudHJ5X25hbWUgbm90IGluIHNlbGYuYW5hbHl6ZWRbImNvdW50cmllcyJdOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIAogICAgICAgIHBlcmlvZF9kYXRhID0gc2VsZi5hbmFseXplZFsiY291bnRyaWVzIl1bY291bnRyeV9uYW1lXVsicGVyaW9kcyJdLmdldChwZXJpb2QpCiAgICAgICAgaWYgbm90IHBlcmlvZF9kYXRhOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIAogICAgICAgIGludGVyZXN0cyA9IHBlcmlvZF9kYXRhLmdldCgiYWxsX2ludGVyZXN0cyIsIHt9KQogICAgICAgIHJlc3VsdCA9IFsKICAgICAgICAgICAgeyJxdWVyeSI6IHF1ZXJ5LCAiaW50ZXJlc3QiOiB2YWx1ZSBpZiB2YWx1ZSBpcyBub3QgTm9uZSBlbHNlIDB9CiAgICAgICAgICAgIGZvciBxdWVyeSwgdmFsdWUgaW4gaW50ZXJlc3RzLml0ZW1zKCkKICAgICAgICBdCiAgICAgICAgCiAgICAgICAgIyDQodC+0YDRgtC40YDRg9C10Lwg0L/QviDRg9Cx0YvQstCw0L3QuNGOINC40L3RgtC10YDQtdGB0LAKICAgICAgICByZXN1bHQuc29ydChrZXk9bGFtYmRhIHg6IHhbImludGVyZXN0Il0sIHJldmVyc2U9VHJ1ZSkKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzdWx0CiAgICAKICAgIGRlZiBnZXRfcXVlcnlfY291bnQoc2VsZiwgY291bnRyeV9uYW1lKToKICAgICAgICAiIiIKICAgICAgICDQktC+0LfQstGA0LDRidCw0LXRgiDQutC+0LvQuNGH0LXRgdGC0LLQviDQt9Cw0L/RgNC+0YHQvtCyINC00LvRjyDQsdC+0YDQsNC90YsKICAgICAgICAKICAgICAgICBBcmdzOgogICAgICAgICAgICBjb3VudHJ5X25hbWU6INCd0LDQt9Cy0LDQvdC40LUg0YHRgtGA0LDQvdGLCiAgICAgICAgICAgIAogICAgICAgIFJldHVybnM6CiAgICAgICAgICAgIGludDog0JrQvtC70LjRh9C10YHRgtCy0L4g0LfQsNC/0YDQvtGB0L7QsAogICAgICAgICIiIgogICAgICAgIHJldHVybiBsZW4oc2VsZi5hbGxfcXVlcmllcy5nZXQoY291bnRyeV9uYW1lLCBbXSkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgICMg0KLQtdGB0YIg0LDQvdCw0LvQuNC30LDRgtC+0YDQsCDRgdGC0YDRgtC+0LLRi9C80Lgg0LTQsNC90L3Ri9C80LgKICAgIHRlc3RfZGF0YSA9IHsKICAgICAgICDQotGD0YDRhtC40Y8iOiB7CiAgICAgICAgICAgICJjb3VudHJ5IjogItCi0YPRgNGG0LjRjyIsCiAgICAgICAgICAgICJxdWVyaWVzIjogewogICAgICAgICAgICAgICAgIjNfbW9udGhzIjogewogICAgICAgICAgICAgICAgICAgICJtYXhfaW50ZXJlc3QiOiA5NSwKICAgICAgICAgICAgICAgICAgICAidG9wX3F1ZXJ5IjogItGC0YPRgNC10YbQutC40Lkg0LLQv9C9IiwKICAgICAgICAgICAgICAgICAgICAiYXZlcmFnZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICLRgtGD0YDQtdGG0LrQuNC5INCy0L/QvSI6IDk1LAogICAgICAgICAgICAgICAgICAgICAgICAi0LLQv9C9INGC0YPRgNGG0LjRjyI6IDg1LAogICAgICAgICAgICAgICAgICAgICAgICAidHVya2V5IHZwbiI6IDcwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICIxX21vbnRoIjogewogICAgICAgICAgICAgICAgICAgICJtYXhfaW50ZXJlc3QiOiA5OCwKICAgICAgICAgICAgICAgICAgICAidG9wX3F1ZXJ5IjogItGC0YPRgNC10YbQutC40Lkg0LLQv9C9IiwKICAgICAgICAgICAgICAgICAgICAiYXZlcmFnZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICLRgtGD0YDQtdGG0LrQuNC5INCy0L/QvSI6IDk4LAogICAgICAgICAgICAgICAgICAgICAgICAi0LLQv9C9INGC0YPRgNGG0LjRjyI6IDkwLAogICAgICAgICAgICAgICAgICAgICAgICAidHVya2V5IHZwbiI6IDc1CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICDQmtCw0LfQsNGF0YHRgtCw0L0iOiB7CiAgICAgICAgICAgICJjb3VudHJ5IjogItCa0LDQt9Cw0YXRgdGC0LDQvSIsCiAgICAgICAgICAgICJxdWVyaWVzIjogewogICAgICAgICAgICAgICAgICIzX21vbnRocyI6IHsKICAgICAgICAgICAgICAgICAgICAibWF4X2ludGVyZXN0IjogODAsCiAgICAgICAgICAgICAgICAgICAgInRvcF9xdWVyeSI6ICLQutCw0LfQsNGF0YHQutC40Lkg0LLQv9C9IiwKICAgICAgICAgICAgICAgICAgICAiYXZlcmFnZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICLQutCw0LfQsNGF0YHQutC40Lkg0LLQv9C9IjogODAsCiAgICAgICAgICAgICAgICAgICAgICAgICLQstC/0L0g0LrQsNC30LDRhdGB0YLQsNC9IjogNzUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIjFfbW9udGgiOiB7CiAgICAgICAgICAgICAgICAgICAgIm1heF9pbnRlcmVzdCI6IDcwLAogICAgICAgICAgICAgICAgICAgICJ0b3BfcXVlcnkiOiAi0LrQsNC30LDRhdGB0LrQuNC5INCy0L/QvSIsCiAgICAgICAgICAgICAgICAgICAgImF2ZXJhZ2VzIjogewogICAgICAgICAgICAgICAgICAgICAgICAi0LrQsNC30LDRhdGB0LrQuNC5INCy0L/QvSI6IDcwLAogICAgICAgICAgICAgICAgICAgICAgICAi0LLQv9C9INC60LDQt9Cw0YXRgdGC0LDQvSI6IDY1CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICBhbmFseXplciA9IFNFT0FuYWx5emVyKHRlc3RfZGF0YSkKICAgIGFuYWx5emVkID0gYW5hbHl6ZXIuYW5hbHl6ZV9hbGxfY291bnRyaWVzKCkKICAgIAogICAgcHJpbnQoItCi0L7QvyDRgdGC0YDQsNC9INC30LAgMyDQvNC10YHRj9GG0LA6IikKICAgIGZvciBjb3VudHJ5IGluIGFuYWx5emVyLmdldF90b3BfY291bnRyaWVzKCIzX21vbnRocyIpOgogICAgICAgIHByaW50KGYiICB7Y291bnRyeVsnY291bnRyeSddfToge2NvdW50cnlbJ2ludGVyZXN0J119IikKICAgIAogICAgcHJpbnQoIlxu0KDQsNGB0YLRg9GJ0LjQtSDRgdGC0YDQsNC90Ys6IikKICAgIGZvciBjb3VudHJ5IGluIGFuYWx5emVyLmdldF9yaXNpbmdfY291bnRyaWVzKCk6CiAgICAgICAgcHJpbnQoZiIgIHtjb3VudHJ5Wydjb3VudHJ5J119OiAre2NvdW50cnlbJ2NoYW5nZV9wZXJjZW50J106LjFmfSUiKQ==
EOF64

# –î–µ–∫–æ–¥–∏—Ä—É–µ–º main.py
base64 -d > main.py << 'EOF64'
IiIiCtCT0LvQsNCy0L3Ri9C5INGE0LDQudC7INC00LvRjyDQt9Cw0L/Rg9GB0LrQsCBTRU8t0L/QsNGA0YHQtdGA0LAK0JDQvdCw0LvQuNC30LjRgNGD0LXRgiDRgdC/0YDQvtGBINC90LAgVlBOINC/0L4g0LvQvtC60LDRhtC40Y/QvCDQsiDQoNC+0YHRgdC40LgKIiIiCmZyb20gcXVlcnlfYnVpbGRlciBpbXBvcnQgZ2VuZXJhdGVfYWxsX3F1ZXJpZXMKZnJvbSBnb29nbGVfdHJlbmRzX3BhcnNlciBpbXBvcnQgR29vZ2xlVHJlbmRzUGFyc2VyCmZyb20gYW5hbHl6ZXIgaW1wb3J0IFNFT0FuYWx5emVyCmZyb20gY29uZmlnIGltcG9ydCBDT1VOVFJJRVMsIFRJTUVGUkFNRVMKCgpkZWYgcHJpbnRfaGVhZGVyKCk6CiAgICBwcmludCgiPSIgKiA4MCkKICAgIHByaW50KCIgIiAqIDIwICsgItCQ0J3QkJ8QmNCXINCh0J/QoNCe0KHQkCDQndCQIFZQTiDQn9CeINCb0J7QmtCQ0KbQmNCv0JwiKQogICAgcHJpbnQoIiAiICogMzAgKyAi0KDQvtGB0YHQuNGPIHwgR29vZ2xlIFRyZW5kcyIpCiAgICBwcmludCgiPSIgKiA4MCkKCgpkZWYgcHJpbnRfdG9wX2NvdW50cmllcyhhbmFseXplcik6CiAgICBwcmludCgiXG4iICsgIj0iICogODApCiAgICBwcmludCgi0KdQntCf0L7QutC+ICjQodC/0L3QutC+0LIpIikKICAgIHByaW50KCI9IiAqIDgwKQogICAgCiAgICB0b3BfM20gPSBhbmFseXplci5nZXRfdG9wX2NvdW50cmllcygiM19tb250aHMiLCBsaW1pdD0yMCkKICAgIAogICAgcHJpbnQoZiJ7J+KEls8zNH0geyfQodGC0YDQsNC90LAnOjwyMH0geyfQn9C+0L/Rg9C70Y/RgNC90L7RgdGC0YwnOjwxNX0geyfQotC+0L8g0LfQsNC/0YDQvtGBJ30iKQogICAgcHJpbnQoIi0iICogODApCiAgICAKICAgIGZvciBpZHgsIGNvdW50cnkgaW4gZW51bWVyYXRlKHRvcF8zbSwgMSk6CiAgICAgICAgcHJpbnQoZiJ7aWR4Ojw0fSB7Y291bnRyeVsnY291bnRyeSddOjwyMH0ge2NvdW50cnlbJ2ludGVyZXN0J106PDE1fSB7Y291bnRyeVsndG9wX3F1ZXJ5J119IikKCgpkZWYgcHJpbnRfcGVyaW9kX2NvbXBhcmlzb24oYW5hbHl6ZXIpOgogICAgcHJpbnQoIlxuIiArICI9IiAqIDgwKQogICAgcHJpbnQoItCd0J7QnNCf0J7Qn9Cd0JjQmtCX0JzQntCUICjQndCjICUg0LzQtdGB0Y/RhSkgIikKICAgIHByaW50KCI9IiAqIDgwKQogICAgCiAgICB0b3BfM20gPSBhbmFseXplci5nZXRfdG9wX2NvdW50cmllcygiM19tb250aHMiLCBsaW1pdD0xMCkKICAgIHRvcF8xbSA9IGFuYWx5emVyLmdldF90b3BfY291bnRyaWVzKCIxX21vbnRoIiwgbGltaXQ9MTApCiAgICAKICAgIHByaW50KGYieyfQodGC0YDQsNC90LAnOjwyMH0geycxINC80LXRgdGP0YYnOjwxNX0geyczINC80LXRgdGP0YbQsCc6PDE1fSB7J9CY0LfQvNC10L3QtdC90LjQtSc6PDE1fSB7J9Ci0YDQtdC90LQnfSIpCiAgICBwcmludCgiLSIgKiA4MCkKICAgIAogICAgdG9wXzFtX2RpY3QgPSB7Y1siY291bnRyeSJdOiBjWyJpbnRlcmVzdCJdIGZvciBjIGluIHRvcF8xbX0KICAgIAogICAgZm9yIGNvdW50cnlfM20gaW4gdG9wXzNtWzoxMF06CiAgICAgICAgY291bnRyeSA9IGNvdW50cnlfM21bImNvdW50cnkiXQogICAgICAgIGludGVyZXN0XzNtID0gY291bnRyeV8zbVsiaW50ZXJlc3QiXQogICAgICAgIGludGVyZXN0XzFtID0gdG9wXzFtX2RpY3QuZ2V0KGNvdW50cnksIDApCiAgICAgICAgCiAgICAgICAgaWYgaW50ZXJlc3RfM20gPiAwOgogICAgICAgICAgICBjaGFuZ2UgPSAoKGludGVyZXN0XzFtIC0gaW50ZXJlc3RfM20pIC8gaW50ZXJlc3RfM20pICogMTAwCiAgICAgICAgICAgIGNoYW5nZV9zdHIgPSBmIntjaGFuZ2U6Ky4xZn0lIgogICAgICAgICAgICAKICAgICAgICAgICAgaWYgY2hhbmdlID4gNToKICAgICAgICAgICAgICAgIHRyZW5kID0gIuKGkeKGkeKGkSIKICAgICAgICAgICAgZWxpZiBjaGFuZ2UgPiAwOgogICAgICAgICAgICAgICAgdHJlbmQgPSAi4oaR4oaRIgogICAgICAgICAgICBlbGlmIGNoYW5nZSA8IC01OgogICAgICAgICAgICAgICAgdHJlbmQgPSAi4oaT4oaT4oaTIgogICAgICAgICAgICBlbGlmIGNoYW5nZSA8IDA6CiAgICAgICAgICAgICAgICB0cmVuZCA9ICLihpPihpTIKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRyZW5kID0gIuKGkiIKICAgICAgICBlbHNlOgogICAgICAgICAgICBjaGFuZV9zdHIgPSAiTi9BIgogICAgICAgICAgICB0cmVuZCA9ICLihpSIKICAgICAgICAKICAgICAgICBwcmludChmIntjb3VudHJ5OjwyMH0ge2ludGVyZXN0XzFtOjwxNX0ge2ludGVyZXN0XzNtOjwxNX0ge2NoYW5nZV9zdHI6PDE1fSB7dHJlbmR9IikKCgpkZWYgcHJpbnRfcmlzaW5nX2NvdW50cmllcyhhbmFseXplcik6CiAgICBwcmludCgiXG4iICsgIj0iICogODApCiAgICBwcmludCgi0KdQntCf0L7QutC+0LIgKDihpEpIikKICAgIHByaW50KCI9IiAqIDgwKQogICAgCiAgICByaXNpbmcgPSBhbmFseXplci5nZXRfcmlzaW5nX2NvdW50cmllcyhsaW1pdD0xMCkKICAgIAogICAgcHJpbnQoZiJ7J9Ch0YLRgNCw0L3QsCc6PDIwfCB7JzEg0LzQtdGB0Y/Rhic6PDE1fSB7JzMg0LzQtdGB0Y/RhtCwJzo8MTV9IHsn0KDQvtGB0YInOjwxNX0iKQogICAgcHJpbnQoIi0iICogODApCiAgICAKICAgIGZvciBjb3VudHJ5IGluIHJpc2luZzoKICAgICAgICBwcmludChmIntjb3VudHJ5Wydjb3VudHJ5J106PDIwfSB7Y291bnRyeVsnaW50ZXJlc3RfMW0nXTo8MTV9ICIKICAgICAgICAgICAgICAgZiJ7Y291bnRyeVsnaW50ZXJlc3RfM20nXTo8MTV9ICt7Y291bnRyeVsnY2hhbmdlX3BlcmNlbnRdOi4xZn0lIikKCgpkZWYgcHJpbnRfZmFsbGluZ19jb3VudHJpZXMoYW5hbHl6ZXIpOgogICAgcHJpbnQoIlxuIiArICI9IiAqIDgwKQogICAgcHJpbnQoItCd0J7QnNCf0J7Qn9Cd0JjQmtCX0JzQntCUICjihpMpIikKICAgIHByaW50KCI9IiAqIDgwKQogICAgCiAgICBmYWxsaW5nID0gYW5hbHl6ZXIuZ2V0X2ZhbGxpbmdfY291bnRyaWVzKGxpbWl0PTEwKQogICAgCiAgICBpZiBmYWxsaW5nOgogICAgICAgIHByaW50KGYieynQodGC0YDQsNC90LAnOjwyMH0geycxINC80LXRgdGP0YYnOjwxNX0geyczINC80LXRgdGP0YbQsCc6PDE1fSB7J9Cw0LTQtdC90LjQtSc6PDE1fSIpCiAgICAgICAgcHJpbnQoIi0iICogODApCiAgICAgICAgCiAgICAgICAgZm9yIGNvdW50cnkgaW4gZmFsbGluZzoKICAgICAgICAgICAgcHJpbnQoZiJ7Y291bnRyeVsnY291bnRyeSddOjwyMH0ge2NvdW50cnlbJ2ludGVyZXN0XzFtJ106PDE1fSAiCiAgICAgICAgICAgICAgICAgIGYie2NvdW50cnlbJ2ludGVyZXN0XzNtJ106PDE1fSB7Y291bnRyeVsnY2hhbmdlX3BlcmNlbnRdOi4xZn0lIikKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoItCd0LXRgiDQtNCw0L3QvdGL0YUg0L7Qv9Cw0LTQtdC90LjQtSDRgdC/0YDQvtGB0LUiKQoKCmRlZiBwcmludF9yZWNvbW1lbmRhdGlvbnMoYW5hbHl6ZXIpOgogICAgcHJpbnQoIlxuIiArICI9IiAqIDgwKQogICAgcHJpbnQoItCS0L7Qt9Cz0L7QutC+0LrRgNC10YIg0L/RgNCw0L7RgNC+0YLRgdGC0LrQuCIpCiAgICBwcmludCgiPSIgKiA4MCkKICAgIAogICAgdG9wXzNtID0gYW5hbHl6ZXIuZ2V0X3RvcF9jb3VudHJpZXMoIjNfbW9udGhzIiwgbGltaXQ9MjApCiAgICByaXNpbmcgPSBhbmFseXplci5nZXRfcmlzaW5nX2NvdW50cmllcyhsaW1pdD0xMCkKICAgIAogICAgcHJpbnQoIlxu4J+hISAg0JrQoNCY0KLQmNCn0JXQodCa0JjQmSDQn9Cg0JjQntCg0JjQotCV0KIgKNCy0YvRgdC+0LrQuNC5INGB0L/RgNC+0YEpOiIpCiAgICBjcml0aWNhbCA9IFtdCiAgICBmb3IgY291bnRyeSBpbiByaXNpbmc6CiAgICAgICAgaW50ZXJlc3QgPSBuZXh0KChjWyJpbnRlcmVzdCJdIGZvciBjIGluIHRvcF8zbSBpZiBjWyJjb3VudHJ5Il0gPT0gY291bnRyeVsiY291bnRyeSJdKSwgMCkKICAgICAgICBpZiBpbnRlcmVzdCA+IDUwOgogICAgICAgICAgICBjcml0aWNhbC5hcHBlbmQoKGNvdW50cnlbImNvdW50cnkiXSwgaW50ZXJlc3QsIGNvdW50cnlbImNoYW5nZV9wZXJjZW50Il0pKQogICAgCiAgICBpZiBjcml0aWNhbDoKICAgICAgICBmb3IgY291bnRyeSwgaW50ZXJlc3QsIGNoYW5nZSBpbiBzb3J0ZWQoY3JpdGljYWwsIGtleT1sYW1iZGEgeDogLXhbMV0pOgogICAgICAgICAgICBwcmludChmIiDigKIge2NvdW50cnk6PDIwfSAo0YHQv9GA0L7RgToge2ludGVyZXN0fSwg0YDQvtGB0YI6ICt7Y2hhbmdlOi4xZn0lKSIpCiAgICBlbHNlOgogICAgICAgIHByaW50KCIg0J3QtdGCINC/0LDQsNC70LjQtSDRgNC+0YHRgtC10LjQsNGC0L7QvCIpCiAgICAKICAgIHByaW50KCJcbuKehSDQktCr0KHQntCa0JjQmSDQn9Cg0JjQntCg0JjQotCV0KIgKNCy0YvRgdC+0LrQuNC5INGB0L/RgNC+0YEpOiIpCiAgICBoaWdoID0gW2MgZm9yIGMgaW4gdG9wXzNtWzoxMF0gaWYgbm90IGFueShyWyJjb3VudHJ5Il0gPT0gY1siY291bnRyeSJdIGZvciByIGluIGNyaXRpY2FsKV0KICAgIGZvciBjb3VudHJ5IGluIGhpZ2g6CiAgICAgICAgcHJpbnQoZiIg4oCiIHtjb3VudHJ5Wydjb3VudHJ5J106PDIwfSAo0YHQv9GA0L7Rgjoge2NvdW50cnlbJ2ludGVyZXN0J119IikKICAgIAogICAgcHJpbnQoIlxu4pqg77iPINCc0Y/QstGA0LDQvNC4OiIpCiAgICBtZWRpdW0gPSB0b3BfM21bMTA6MjBdCiAgICBmb3IgY291bnRyeSBpbiBtZWRpdW06CiAgICAgICAgcHJpbnQoZiIg4oCiIHtjb3VudHJ5Wydjb3VudHJ5J106PDIwfSAo0YHQv9GA0L7RgToge2NvdW50cnlbJ2ludGVyZXN0J119IikKCgpkZWYgcHJpbnRfdGltZXN0YW1wKGFuYWx5emVyKToKICAgIHByaW50KGYiXG7QktGA0LXQvNGPINCw0L3QsNC70LjQt9CwOiB7YW5hbHl6ZXIuYW5hbHl6ZWQuZ2V0KCd0aW1lc3RhbXAnLCAnTi9BJyl9IikKCgpkZWYgbWFpbigpOgogICAgcHJpbnRfaGVhZGVyKCkKICAgIAogICAgcHJpbnQoIlxu0JPQtdC90LXRgNC40YDRg9C10Lwg0LfQsNC/0YDQvtGB0YsLi4uIikKICAgIGFsbF9xdWVyaWVzID0gZ2VuZXJhdGVfYWxsX3F1ZXJpZXMoQ09VTlRSSUVTKQogICAgdG90YWxfcXVlcmllcyA9IHN1bShsZW4odikgZm9yIHYgaW4gYWxsX3F1ZXJpZXMudmFsdWVzKCkpCiAgICBwcmludChmIuKEkz0KHQs9C10L3QtdGA0LjRgNC+0LLQsNC90L4ge2xlbihhbGxfcXVlcmllcyl9INGB0YLRgNCw0L0g0YEge3RvdGFsX3F1ZXJpZXN9INGL0L/QtdGB0LrQuNGDINC30LDQv9GA0L7RgdC+0LIiKQogICAgCiAgICBwcmludCgiXG7QlNC10LvQsNGC0L7Qu9GP0LXQvCDRgdC/0YDQvtGB0YbQsNC4Li4uIikKICAgIHBhcnNlciA9IEdvb2dsZVRyZW5kc1BhcnNlcigpCiAgICBwcmludCginJI0JPQtdC90LXRgNC+0LHQsiIpCiAgICAKICAgIHByaW50KCI9IiAqIDgwKQogICAgYWxsX2RhdGEgPSBwYXJzZXIucGFyc2VfYWxsX2NvdW50cmllcyhhbGxfcXVlcmllcywgVElNRUZSQU1FUykKICAgIAogICAgcHJpbnQoIlxu0JDQvdCw0LvQuNC30LjRgNC+0LLQsNC90L4g0LTQsNC90L3Ri9GFLi4uIikKICAgIGFuYWx5emVyID0gU0VPQW5hbHl6ZXIoYWxsX2RhdGEpCiAgICBhbmFseXplZCA9IGFuYWx5emVyLmFuYWx5emVfYWxsX2NvdW50cmllcygpCiAgICBwcmludChmIuKckyDQn9GA0L7QsNC90LDQu9C40LfQuNGA0L7QstCw0L3QviB7bGVuKGFuYWx5emVkWydjb3VudHJpZXMnXSl9INGB0YLRgNCw0L3Ri9GFIikKICAgIAogICAgcHJpbnRfdG9wX2NvdW50cmllcyhhbmFseXplcikKICAgIHByaW50X3BlcmlvZF9jb21wYXJpc29uKGFuYWx5emVyKQogICAgcHJpbnRfcmlzaW5nX2NvdW50cmllcyhhbmFseXplcikKICAgIHByaW50X2ZhbGxpbmdfY291bnRyaWVzKGFuYWx5emVyKQogICAgcHJpbnRfcmVjb21tZW5kYXRpb25zKGFuYWx5emVyKQogICAgcHJpbnRfdGltZXN0YW1wKGFuYWx5emVyKQogICAgCiAgICBwcmludCgiXG4iICsgIj0iICogODApCiAgICBwcmludCgi0JDQvdCw0LvQuNC3INC30LDQstC10YDRiNC10LUhIikKICAgIHByaW50KCI9IiAqIDgwKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk=
EOF64

# –ü—Ä–æ–≤–µ—Ä—è–µ–º Python
if ! command -v python3 &> /dev/null; then
    echo -e "${RED}‚ùå Python3 –Ω–µ –Ω–∞–π–¥–µ–Ω${NC}"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º python3-venv –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
echo -e "${YELLOW}üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ python3-venv...${NC}"
if ! python3 -m venv venv 2>/dev/null; then
    echo -e "${YELLOW}üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ python3-venv...${NC}"
    if [ -x "$(command -v apt)" ]; then
        apt update && apt install -y python3.12-venv python3-dev
    elif [ -x "$(command -v yum)" ]; then
        yum install -y python3.12-venv python3-devel
    else
        echo -e "${RED}‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å python3-venv${NC}"
        exit 1
    fi
    echo -e "${YELLOW}üîß –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è...${NC}"
    python3 -m venv venv
fi

source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo -e "${YELLOW}üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...${NC}"
pip install -q -r requirements.txt

# –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∞–ª–∏–∑
echo -e "${GREEN}‚úì –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞...${NC}"
echo ""
python main.py

# –í—ã—Ö–æ–¥ - –≤—ã–∑–æ–≤–µ—Ç—Å—è cleanup() –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
exit 0